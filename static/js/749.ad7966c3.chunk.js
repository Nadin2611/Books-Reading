"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[749],{301:(e,o,t)=>{t.d(o,{Z:()=>r});const n="Container_container__82qFW";var a=t(184);const r=e=>{let{children:o}=e;return(0,a.jsx)("div",{className:n,children:o})}},321:(e,o,t)=>{t.d(o,{a:()=>r});var n=t(768),a=t(184);const r=()=>(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,a.jsx)(n.RL,{height:80,width:80,radius:48,color:"blue",ariaLabel:"watch-loading",visible:!0})})},749:(e,o,t)=>{t.r(o),t.d(o,{default:()=>j});var n=t(301),a=t(791),r=t(87),s=t(133),l=t(142),i=t(321);const c={googleButton:"GoogleButton_googleButton__v0uqx"};const g=t.p+"static/media/google-icon.29e7c624467ac015f5b6376eeb6733a0.svg";var u=t(184);const d=e=>{let{onClick:o}=e;return(0,u.jsxs)("button",{className:c.googleButton,onClick:o,children:[(0,u.jsx)("img",{src:g,alt:"Google Logo",width:18,height:18,className:c.googleIcon}),"Google"]})},h=()=>{const[e,o]=(0,a.useState)(""),[t,n]=(0,a.useState)(""),{login:c,googleAuth:g,isLoggingIn:h,error:m}=(0,l.Z)(),_=""!==e.trim()&&""!==t.trim();return(0,u.jsxs)("div",{className:s.Z.formContainer,children:[(0,u.jsx)(d,{onClick:async()=>{try{await g()}catch(m){console.error("Error during Google authentication:",m)}}}),(0,u.jsxs)("form",{className:s.Z.form,onSubmit:a=>{a.preventDefault(),c({email:e,password:t}),o(""),n("")},children:[(0,u.jsxs)("div",{className:s.Z.labelWrapper,children:[(0,u.jsx)("div",{className:s.Z.labelContainer,children:(0,u.jsxs)("label",{className:s.Z.label,children:[(0,u.jsx)("span",{children:"Email"}),(0,u.jsx)("span",{className:s.Z.required,children:" *"}),(0,u.jsx)("input",{className:s.Z.input,type:"email",name:"email",value:e,placeholder:"your@email.com",autoComplete:"false",onChange:e=>o(e.target.value),required:!0})]})}),(0,u.jsx)("div",{className:s.Z.labelContainer,children:(0,u.jsxs)("label",{className:s.Z.label,children:[(0,u.jsx)("span",{children:"Password"}),(0,u.jsx)("span",{className:s.Z.required,children:" *"}),(0,u.jsx)("input",{className:s.Z.input,type:"password",name:"password",value:t,placeholder:"Password",autoComplete:"false",onChange:e=>n(e.target.value),required:!0})]})})]}),(0,u.jsx)("button",{className:s.Z.loginButton,type:"submit",disabled:!_||h,children:"Log In"}),h&&(0,u.jsx)(i.a,{}),m&&(0,u.jsx)("p",{children:m})]}),(0,u.jsx)(r.rU,{to:"/register",className:s.Z.link,children:"Register"})]})},m="Quote_quoteContainer__02t6S",_="Quote_quoteTitle__lNryk",p="Quote_quoteAuthor__I-483",x=()=>(0,u.jsx)(n.Z,{children:(0,u.jsxs)("div",{className:m,children:[(0,u.jsx)("h2",{className:_,children:"Books are the ships of thoughts, wandering through the waves of time."}),(0,u.jsx)("p",{className:p,children:"Francis Bacon"})]})});function j(){return(0,u.jsxs)(n.Z,{children:[(0,u.jsx)(h,{}),(0,u.jsx)(x,{})]})}},142:(e,o,t)=>{t.d(o,{Z:()=>i});var n=t(791);const a=()=>{const[e,o]=(0,n.useState)(!1),[t,a]=(0,n.useState)(!1),[r,s]=(0,n.useState)(null);return{isLoggedIn:e,isLoggingIn:t,error:r,setIsLoggedIn:o,setIsLoggingIn:a,setError:s}};var r=t(294);const s="https://bookread-backend.goit.global/",l=(e,o)=>r.Z.post("".concat(s).concat(e),o).then((e=>e.data)),i=()=>{const{isLoggedIn:e,isLoggingIn:o,error:t,setIsLoggedIn:n,setIsLoggingIn:i,setError:c}=a();return{isLoggedIn:e,isLoggingIn:o,error:t,register:async e=>{try{i(!0);const o=await l("auth/register",e);n(!0),i(!1),c(null),console.log("Registered:",o)}catch(t){n(!1),i(!1),c("Registration failed")}},login:async e=>{try{i(!0);const o=await l("auth/login",e);n(!0),i(!1),c(null),console.log("Logged in:",o)}catch(t){n(!1),i(!1),c("Incorrect email or password")}},logout:async()=>{try{await l("auth/logout"),n(!1),c(null),console.log("Logged out")}catch(t){c("Error during logout")}},refreshTokens:async e=>{try{const o=await l("auth/refresh",{refreshToken:e});console.log("Tokens refreshed:",o)}catch(t){c("Refresh tokens:",t)}},googleAuth:async()=>{try{const o=await(e="auth/google",r.Z.get("".concat(s).concat(e)).then((e=>e.data)));console.log("Google authentication:",o)}catch(t){c("Google authentication error:",t)}var e}}}},133:(e,o,t)=>{t.d(o,{Z:()=>n});const n={formContainer:"LoginForm_formContainer__9cdD+",form:"LoginForm_form__6WwqY",labelWrapper:"LoginForm_labelWrapper__Egyb1",labelContainer:"LoginForm_labelContainer__j+bsM",label:"LoginForm_label__0Hx77",input:"LoginForm_input__RX4hS",required:"LoginForm_required__kElR9",loginButton:"LoginForm_loginButton__0rGcP",link:"LoginForm_link__ebgBK",linkContainer:"LoginForm_linkContainer__eJ0OS",linkRegister:"LoginForm_linkRegister__MJFBU"}}}]);
//# sourceMappingURL=749.ad7966c3.chunk.js.map