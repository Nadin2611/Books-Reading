"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[824],{301:(e,a,n)=>{n.d(a,{Z:()=>o});const s="Container_container__82qFW";var r=n(184);const o=e=>{let{children:a}=e;return(0,r.jsx)("div",{className:s,children:a})}},824:(e,a,n)=>{n.r(a),n.d(a,{default:()=>g});var s=n(301),r=n(791),o=n(133),l=n(87),t=n(142),i=n(184);const c=()=>{const[e,a]=(0,r.useState)(""),[n,s]=(0,r.useState)(""),[c,g]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),{register:m,isLoggingIn:h,error:p}=(0,t.Z)(),_=e&&n&&c&&d;return(0,i.jsxs)("div",{className:o.Z.formContainer,children:[(0,i.jsxs)("form",{className:o.Z.form,onSubmit:async a=>{if(a.preventDefault(),c===d)try{await m({name:e,email:n,password:c})}catch(p){}else console.error("Passwords do not match")},children:[(0,i.jsxs)("div",{className:o.Z.labelWrapper,children:[(0,i.jsx)("div",{className:o.Z.labelContainer,children:(0,i.jsxs)("label",{className:o.Z.label,children:[(0,i.jsx)("span",{children:"Name"}),(0,i.jsx)("span",{className:o.Z.required,children:" *"}),(0,i.jsx)("input",{className:o.Z.input,type:"name",name:"name",value:e,placeholder:"...",autoComplete:"false",onChange:e=>a(e.target.value),required:!0})]})}),(0,i.jsx)("div",{className:o.Z.labelContainer,children:(0,i.jsxs)("label",{className:o.Z.label,children:[(0,i.jsx)("span",{children:"Email"}),(0,i.jsx)("span",{className:o.Z.required,children:" *"}),(0,i.jsx)("input",{className:o.Z.input,type:"email",name:"email",value:n,placeholder:"your@email.com",autoComplete:"false",onChange:e=>s(e.target.value),required:!0})]})}),(0,i.jsx)("div",{className:o.Z.labelContainer,children:(0,i.jsxs)("label",{className:o.Z.label,children:[(0,i.jsx)("span",{children:"Password"}),(0,i.jsx)("span",{className:o.Z.required,children:" *"}),(0,i.jsx)("input",{className:o.Z.input,type:"password",name:"password",value:c,placeholder:"...",autoComplete:"false",onChange:e=>g(e.target.value),required:!0})]})}),(0,i.jsx)("div",{className:o.Z.labelContainer,children:(0,i.jsxs)("label",{className:o.Z.label,children:[(0,i.jsx)("span",{children:"Confirm password"}),(0,i.jsx)("span",{className:o.Z.required,children:" *"}),(0,i.jsx)("input",{className:o.Z.input,type:"password",name:"confirmPassword",value:d,placeholder:"...",autoComplete:"false",onChange:e=>u(e.target.value),required:!0})]})})]}),(0,i.jsx)("button",{className:o.Z.loginButton,type:"submit",disabled:!_||h,children:"Register"}),p&&(0,i.jsx)("p",{children:p})]}),(0,i.jsxs)("div",{className:o.Z.linkContainer,children:[(0,i.jsx)("span",{className:o.Z.linkText,children:"Already have an account? "}),(0,i.jsx)(l.rU,{to:"/login",className:o.Z.linkRegister,children:"Log in"})]})]})};function g(){return(0,i.jsx)(s.Z,{children:(0,i.jsx)(c,{})})}},142:(e,a,n)=>{n.d(a,{Z:()=>i});var s=n(791);const r=()=>{const[e,a]=(0,s.useState)(!1),[n,r]=(0,s.useState)(!1),[o,l]=(0,s.useState)(null);return{isLoggedIn:e,isLoggingIn:n,error:o,setIsLoggedIn:a,setIsLoggingIn:r,setError:l}};var o=n(294);const l="https://bookread-backend.goit.global/",t=(e,a)=>o.Z.post("".concat(l).concat(e),a).then((e=>e.data)),i=()=>{const{isLoggedIn:e,isLoggingIn:a,error:n,setIsLoggedIn:s,setIsLoggingIn:i,setError:c}=r();return{isLoggedIn:e,isLoggingIn:a,error:n,register:async e=>{try{i(!0);const a=await t("auth/register",e);s(!0),i(!1),c(null),console.log("Registered:",a)}catch(n){s(!1),i(!1),c("Registration failed")}},login:async e=>{try{i(!0);const a=await t("auth/login",e);s(!0),i(!1),c(null),console.log("Logged in:",a)}catch(n){s(!1),i(!1),c("Incorrect email or password")}},logout:async()=>{try{await t("auth/logout"),s(!1),c(null),console.log("Logged out")}catch(n){c("Error during logout")}},refreshTokens:async e=>{try{const a=await t("auth/refresh",{refreshToken:e});console.log("Tokens refreshed:",a)}catch(n){c("Refresh tokens:",n)}},googleAuth:async()=>{try{const a=await(e="auth/google",o.Z.get("".concat(l).concat(e)).then((e=>e.data)));console.log("Google authentication:",a)}catch(n){c("Google authentication error:",n)}var e}}}},133:(e,a,n)=>{n.d(a,{Z:()=>s});const s={formContainer:"LoginForm_formContainer__9cdD+",form:"LoginForm_form__6WwqY",labelWrapper:"LoginForm_labelWrapper__Egyb1",labelContainer:"LoginForm_labelContainer__j+bsM",label:"LoginForm_label__0Hx77",input:"LoginForm_input__RX4hS",required:"LoginForm_required__kElR9",loginButton:"LoginForm_loginButton__0rGcP",link:"LoginForm_link__ebgBK",linkContainer:"LoginForm_linkContainer__eJ0OS",linkRegister:"LoginForm_linkRegister__MJFBU"}}}]);
//# sourceMappingURL=824.f069c413.chunk.js.map